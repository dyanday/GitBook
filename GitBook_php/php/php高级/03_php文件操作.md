# 文件操作

## 获取文件名

basename() 函数返回路径中的文件名部分。

```
basename(path,suffix)
```

| 参数   | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| path   | 必需。规定要检查的路径。                                     |
| suffix | 可选。规定文件扩展名。如果文件有名有文件扩展名，将不会显示这个扩展名。 |

## 获取路径

dirname() 函数返回路径中的目录名称部分。

```
dirname(path)
```

## mkdir() 函数创建目录。

如果成功该函数返回 TRUE，如果失败则返回 FALSE。 语法

```
mkdir(path)
```

## 删除文件

unlink() 函数删除文件。 如果成功，该函数返回 TRUE。如果失败，则返回 FALSE。

```
unlink(filename)
```

## 移动上传文件

move_uploaded_file() 函数把上传的文件移动到新位置。 如果成功该函数返回 TRUE，如果失败则返回 FALSE。 语法 move_uploaded_file(file,newloc)

参数 描述 file 必需。规定要移动的文件。 newloc 必需。规定文件的新位置。

## 打开文件

fopen() 在PHP中打开文件。

参数1：含有要打开的文件的名称

参数2：规定了使用哪种模式来打开文件

```php
<?php
$file=fopen("test.txt","r");
echo $file;
?>
```

| 模式 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| r    | 只读。在文件的开头开始。                                     |
| r+   | 读/写。在文件的开头开始。                                    |
| w    | 只写。打开并清空文件的内容；如果文件不存在，则创建新文件。   |
| w+   | 读/写。打开并清空文件的内容；如果文件不存在，则创建新文件。  |
| a    | 追加。打开并向文件末尾进行写操作，如果文件不存在，则创建新文件。 |
| a+   | 读/追加。通过向文件末尾写内容，来保持文件内容。              |
| x    | 只写。创建新文件。如果文件已存在，则返回 FALSE 和一个错误。  |
| x+   | 读/写。创建新文件。如果文件已存在，则返回 FALSE 和一个错误。 |

注释：如果 fopen() 函数无法打开指定文件，则返回 0 (false)。

## 关闭文件

关闭文件 fclose() 函数用于关闭打开的文件：

```php
<?php
$file = fopen("test.txt","r");

//执行一些代码

fclose($file);
?>
```

## 检测文件末尾

feof() 函数检测是否已到达文件末尾（EOF）。 在循环遍历未知长度的数据时，feof() 函数很有用。

## 逐行读取文件

fgets() 函数用于从文件中逐行读取文件。 注释：在调用该函数之后，文件指针会移动到下一行。 实例 下面的实例逐行读取文件，直到文件末尾为止：

```php
<?php
$file = fopen("welcome.txt", "r") or exit("无法打开文件!");
// 读取文件每一行，直到文件结尾
while(!feof($file))
{
    echo fgets($file). "<br>";
}
fclose($file);
?>
```